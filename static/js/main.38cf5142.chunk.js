(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},28:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(15),i=a.n(r),l=a(10),c=a(4),o=(a(28),a(1)),u=a(2),m=a(5),p=a(3),f=a(6),h=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("select",{name:this.props.name,value:this.props.selected,onChange:this.props.onChange},Object.keys(this.props.values).map(function(t){var a=e.props.values[t];return s.a.createElement("option",{key:a,value:t},a)})))}}]),t}(s.a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("input",{type:"text",name:this.props.name,value:this.props.value,onChange:this.props.onChange}))}}]),t}(s.a.Component),g={player:{stats:{class:"knight",dungeon:"cdev",wepAtk:2e3,bAtk:0,pbAtk:0,wepRarity:"epic",pierce:5,pmPierce:5,pmAtk:300,tDmg:0,bDmg:0,eDmg:0,mrDmg:0,critRate:50,luck:20,critDmg:125},item:{batkGems:0,batkGemLvl:10,mainStatGems:0,mainStatGemLvl:10,varrWingsBuff:!1,varrHornsBuff:!1,murpBuff:!1,mslBuff:!1,hardModeWepBuff:!1},buffs:{sinCritBuff:!1,buffWepAtk:0,buffEDmg:0,buffDmg:0,buffPmAtk:0,debuffDmgTaken:0,debuffDefense:0}},comparison:{stats:{class:"knight",dungeon:"cdev",wepAtk:2e3,bAtk:0,pbAtk:0,wepRarity:"epic",pierce:5,pmPierce:5,pmAtk:300,tDmg:0,bDmg:0,eDmg:0,mrDmg:0,critRate:50,luck:20,critDmg:125},item:{batkGems:0,batkGemLvl:10,mainStatGems:0,mainStatGemLvl:10,varrWingsBuff:!1,varrHornsBuff:!1,murpBuff:!1,mslBuff:!1,hardModeWepBuff:!1},buffs:{sinCritBuff:!1,buffWepAtk:0,buffEDmg:0,buffDmg:0,buffPmAtk:0,debuffDmgTaken:0,debuffDefense:0}}},v="class",d="dungeon",E="wepAtk",k="bAtk",S="pbAtk",y="wepRarity",O="pierce",C="pmPierce",A="pmAtk",j="tDmg",D="bDmg",B="eDmg",w="mrDmg",T="critRate",P="critDmg",M="luck",R="batkGems",N="batkGemLvl",W="mainStatGems",_="mainStatGemLvl",L="sinCritBuff",I="buffWepAtk",G="buffEDmg",x="buffDmg",F="buffPmAtk",Y="debuffDmgTaken",z="debuffDefense",H="varrWingsBuff",J="varrHornsBuff",U="murpBuff",V="mslBuff",$="hardModeWepBuff",K={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},q={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10},Q={knight:"Knight",wiz:"Wizard",archer:"Archer",thief:"Thief",rune:"Runeblade",zerk:"Berserker",priest:"Priest",hg:"Heavy Gunner",sin:"Assassin",sb:"Soul Binder",striker:"Striker"},X={cdev:"Shadow Altar",cmoc:"Moonlight Fortress",cpap:"Ludibrium Clock Tower",fd:"The Fire Dragon",tdummy:"Training Dummy"},Z={epic:"Epic",legendary:"Legendary"},ee=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"player-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(h,{label:"Class",name:v,selected:this.props.values[v],values:Q,onChange:this.props.setStats}),s.a.createElement(h,{label:"Dungeon",name:d,selected:this.props.values[d],values:X,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Weapon Attack",name:E,value:this.props.values[E],onChange:this.props.setStats}),s.a.createElement(b,{label:"Bonus Attack*",name:k,value:this.props.values[k],onChange:this.props.setStats}),s.a.createElement(b,{label:"Pet Bonus Attack",name:S,value:this.props.values[S],onChange:this.props.setStats}),s.a.createElement(h,{label:"Weapon Rarity",name:y,selected:this.props.values[y],values:Z,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Pierce %",name:O,value:this.props.values[O],onChange:this.props.setStats}),s.a.createElement(b,{label:"Phys/Mag Pierce %",name:C,value:this.props.values[C],onChange:this.props.setStats}),s.a.createElement(b,{label:"Phys/Mag Attack",name:A,value:this.props.values[A],onChange:this.props.setStats}),s.a.createElement(b,{label:"Total Damage %",name:j,value:this.props.values[j],onChange:this.props.setStats}),s.a.createElement(b,{label:"Boss Damage %",name:D,value:this.props.values[D],onChange:this.props.setStats}),s.a.createElement(b,{label:"Elemental Damage %",name:B,value:this.props.values[B],onChange:this.props.setStats}),s.a.createElement(b,{label:"Melee/Ranged Damage %",name:w,value:this.props.values[w],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Critical Rate**",name:T,value:this.props.values[T],onChange:this.props.setStats}),s.a.createElement(b,{label:"Critical Damage",name:P,value:this.props.values[P],onChange:this.props.setStats}),s.a.createElement(b,{label:"Luck",name:M,value:this.props.values[M],onChange:this.props.setStats})))}}]),t}(s.a.Component),te="SET_PLAYER_STATS",ae="SET_PLAYER_ITEM_STATS",ne="SET_PLAYER_BUFFS",se="SET_COMPARISON_STATS",re="SET_COMPARISON_ITEM_STATS",ie="SET_COMPARISON_BUFFS",le="REPLACE_COMPARISON_STATS_WITH_PLAYER_STATS",ce="RESET_STATE",oe=function(e){return e.comparison.item},ue=function(e){return e.comparison.stats},me=function(e){return e.comparison.buffs},pe=function(e){return e.player.item},fe=function(e){return e.player.stats},he=function(e){return e.player.buffs},be=Object(c.b)(function(e){return{values:ue(e)}},function(e){return{setStats:function(t){return e({type:se,changeEvent:t})}}})(ee),ge=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("input",{type:"checkbox",name:this.props.name,checked:this.props.value,onChange:this.props.onChange}))}}]),t}(s.a.Component),ve=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"item-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(ge,{label:"MSL Weapon (Average +Damage)****",name:V,value:this.props.values[V],onChange:this.props.setStats}),s.a.createElement(ge,{label:"Murp Weapon (Average +Phys/Mag Atk)",name:U,value:this.props.values[U],onChange:this.props.setStats}),s.a.createElement(ge,{label:"Hard Mode Named Epic Weapon (Average +Phys/Mag Atk)*****",name:$,value:this.props.values[$],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(ge,{label:"Varrakent's Wings (Average +Piercing)",name:H,value:this.props.values[H],onChange:this.props.setStats}),s.a.createElement(ge,{label:"Varrakent's Horns (Average +Phys/Mag Atk)",name:J,value:this.props.values[J],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(h,{label:"# of Additional Bonus Atk Gems",name:R,selected:this.props.values[R],values:K,onChange:this.props.setStats}),s.a.createElement(h,{label:"Bonus Atk Gem Level",name:N,selected:this.props.values[N],values:q,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(h,{label:"# of Additional Main Stat Gems",name:W,selected:this.props.values[W],values:K,onChange:this.props.setStats}),s.a.createElement(h,{label:"Main Stat Gem Level",name:_,selected:this.props.values[_],values:q,onChange:this.props.setStats})))}}]),t}(s.a.Component),de=Object(c.b)(function(e){return{values:oe(e)}},function(e){return{setStats:function(t){return e({type:re,changeEvent:t})}}})(ve),Ee=Object(c.b)(function(e){return{values:pe(e)}},function(e){return{setStats:function(t){return e({type:ae,changeEvent:t})}}})(ve),ke=Object(c.b)(function(e){return{values:fe(e)}},function(e){return{setStats:function(t){return e({type:te,changeEvent:t})}}})(ee),Se=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"buff-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(ge,{label:"Assassin Crit Rate Buff",name:L,value:this.props.values[L],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Weapon Attack Buff %",name:I,value:this.props.values[I],onChange:this.props.setStats}),s.a.createElement(b,{label:"Elemental Damage Buff %",name:G,value:this.props.values[G],onChange:this.props.setStats}),s.a.createElement(b,{label:"Damage Buff %",name:x,value:this.props.values[x],onChange:this.props.setStats}),s.a.createElement(b,{label:"Physical/Magical Attack Buff %",name:F,value:this.props.values[F],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Increase Damage Taken Debuff %***",name:Y,value:this.props.values[Y],onChange:this.props.setStats}),s.a.createElement(b,{label:"Decrease Defense Debuff %",name:z,value:this.props.values[z],onChange:this.props.setStats})))}}]),t}(s.a.Component),ye=Object(c.b)(function(e){return{values:he(e)}},function(e){return{setStats:function(t){return e({type:ne,changeEvent:t})}}})(Se),Oe=Object(c.b)(function(e){return{values:me(e)}},function(e){return{setStats:function(t){return e({type:ie,changeEvent:t})}}})(Se),Ce={boss:{fd:{name:"Pyrros Fard",def:681,pmResis:120,critEvasion:50,evasion:97,luck:0},cdev:{name:"Devorak",def:681,pmResis:249,critEvasion:50,evasion:98,luck:0},cmoc:{name:"Captain Moc",def:681,pmResis:249,critEvasion:50,evasion:98,luck:0},cpap:{name:"Papulatus",def:936,pmResis:249,critEvasion:50,evasion:101,luck:0},tdummy:{name:"Training Dummy",def:567,pmResis:90,critEvasion:50,evasion:87,luck:0}},petBonusAtkMultiplier:.4,bonusAtkCoefficient:{epic:{knight:2,wiz:2.5,archer:2.5,thief:2.25,rune:2.5,zerk:2.5,priest:2,hg:2.5,sin:2.25,sb:2.5,striker:2.5},legendary:{knight:4,wiz:5,archer:5,thief:4.5,rune:5,zerk:5,priest:4,hg:5,sin:4.5,sb:5,striker:5}},gems:{bonusAtk:{1:30,2:55,3:75,4:95,5:115,6:130,7:145,8:160,9:170,10:180},stat:{1:2,2:4,3:7,4:10,5:13,6:16,7:20,8:25,9:30,10:36}},mainStatToPMAtk:{knight:.62249,wiz:.5665,archer:.62249,thief:.62249,rune:.62249,zerk:.62249,priest:.4704,hg:.62249,sin:.62249,sb:.5665,striker:.62249},critRateCoefficient:{knight:3.78,zerk:4.305,wiz:3.40375,priest:7.34125,archer:6.4575,hg:2.03875,thief:.60375,sin:.55125,rune:3.78,striker:2.03875,sb:3.40375},critRateCap:.4,classesWithLuck:["sin","thief"],item:{varrHornsBuffAvgPmAtk:92/24,varrWingsBuffAvgPierce:80/24,msl:{uptime:20/24,dmg:{default:4.5,cdev:18,cmoc:18,cpap:18}},murp:{uptime:11/24,pmAtk:{default:9,cdev:36,cmoc:36,cpap:36}},hardModeWepBuffPmAtk:660/45},buffs:{sinCritBuffUptime:17/60}},Ae=function(e){var t=e.stats,a=e.buffs,n=e.item,s=Ce.bonusAtkCoefficient[t.wepRarity][t.class],r=t.tDmg+t.bDmg+t.eDmg+t.mrDmg+a.buffEDmg,i=t.bAtk+t.pbAtk*Ce.petBonusAtkMultiplier+n.batkGems*Ce.gems.bonusAtk[n.batkGemLvl],l=(t.wepAtk+i*s)*(1+a.buffWepAtk/100),c=t.pierce+(n.varrWingsBuff?Ce.item.varrWingsBuffAvgPierce:0),o=(t.pmAtk+n.mainStatGems*Ce.gems.stat[n.mainStatGemLvl]*Ce.mainStatToPMAtk[t.class])*(1+(a.buffPmAtk+(n.varrHornsBuff?Ce.item.varrHornsBuffAvgPmAtk:0)+(n.murpBuff?(Ce.item.murp.pmAtk[t.dungeon]||Ce.item.murp.pmAtk.default)*Ce.item.murp.uptime:0)+(n.hardModeWepBuff?Ce.item.hardModeWepBuffPmAtk:0))/100),u=1+r/100,m=1/(Ce.boss[t.dungeon].def*(1-a.debuffDefense/100));return l*o*u*(1/Math.max(1-c/100,.7))*Math.min(1,(1500*(1+t.pmPierce/100)-Ce.boss[t.dungeon].pmResis)/1500)*(1+(a.buffDmg+a.debuffDmgTaken+(n.mslBuff?(Ce.item.msl.dmg[t.dungeon]||Ce.item.msl.dmg.default)*Ce.item.msl.uptime:0))/100)*m},je=function(e){var t=De(e),a=Ae(e);return(a*(1-t)+a*t*(e.stats.critDmg/100))/2},De=function(e){var t=e.stats,a=e.buffs,n=e.item,s=((t.luck+(Ce.classesWithLuck.includes(t.class)?n.mainStatGems*Ce.gems.stat[n.mainStatGemLvl]:0))*Ce.critRateCoefficient[t.class]+5.3*t.critRate)/(2*Ce.boss[t.dungeon].critEvasion)*.015,r=a.sinCritBuff?Ce.buffs.sinCritBuffUptime:0;return Math.min(s+r,Ce.critRateCap)},Be=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=Ae({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem}),t=Ae({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem}),a=e>t,n=(100*Math.abs(1-e/t)).toFixed(2),r=(100*Math.abs(1-t/e)).toFixed(2),i=je({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem}),l=je({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem}),c=i>l,o=(100*Math.abs(1-i/l)).toFixed(2),u=(100*Math.abs(1-l/i)).toFixed(2),m=(100*De({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem})).toFixed(2),p=(100*De({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem})).toFixed(2),f=m!==p;return s.a.createElement("div",{className:"results"},s.a.createElement("div",null,"Your Damage: ",n,"% ",a?"higher":"lower"," than Comparison"),o!==n?s.a.createElement("div",null,"Your Average Dmg Dealt w/ Crit: ",o,"% ",c?"higher":"lower"," than Comparison"):"",s.a.createElement("div",null,"Comparison Damage: ",r,"% ",a?"lower":"higher"," than Yours"),u!==r?s.a.createElement("div",null,"Comparison Average Dmg Dealt w/ Crit: ",u,"% ",c?"lower":"higher"," than Yours"):"",s.a.createElement("div",null,f?"Your ":"","Crit Rate: ",m,"%"),f?s.a.createElement("div",null,"Comparison Crit Rate: ",p,"%"):"")}}]),t}(s.a.Component),we=Object(c.b)(function(e){return{playerStats:fe(e),playerBuffs:he(e),playerItem:pe(e),comparisonStats:ue(e),comparisonBuffs:me(e),comparisonItem:oe(e)}})(Be),Te=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("button",{className:"reset-calc btn",onClick:this.props.resetState},"Reset Calculator")}}]),t}(s.a.Component),Pe=Object(c.b)(null,function(e){return{resetState:function(){return e({type:ce})}}})(Te),Me=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"comparison-btn"},s.a.createElement("button",{onClick:this.props.setPlayerStatsToComparisonStats},"Copy Your Stats to Comparison Stats"))}}]),t}(s.a.Component),Re=Object(c.b)(null,function(e){return{setPlayerStatsToComparisonStats:function(){return e({type:le})}}})(Me),Ne=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"calc"},s.a.createElement("div",{className:"player col"},s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Stats"),s.a.createElement(ke,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Buffs"),s.a.createElement(ye,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Item Stats"),s.a.createElement(Ee,null))),s.a.createElement("div",{className:"comparison col"},s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Stats"),s.a.createElement(be,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Buffs"),s.a.createElement(Oe,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Item Stats"),s.a.createElement(de,null)))),s.a.createElement("div",{className:"floating-footer"},s.a.createElement(Re,null),s.a.createElement(we,null)),s.a.createElement("div",{className:"fineprint"},"*",s.a.createElement("b",null,"Bonus Attack")," is experimental. The weapon multipliers may or may not be slightly inaccurate.",s.a.createElement("br",null),"**",s.a.createElement("b",null,"Critical Rate")," is experimental. The datamined algorithm may or may not be slightly inaccurate.",s.a.createElement("br",null),"***",s.a.createElement("b",null,"Increase Damage Taken Debuff %")," is experimental. It may or may not be slightly inaccurate. We aren't certain exactly how it interacts with Damage Buff %.",s.a.createElement("br",null),"****",s.a.createElement("b",null,"MSL weapon physical/magical damage buff exact calculation is unknown."),' It\'s unknown exactly what "physical/magical damage" means. We make the assumption it acts as a raw damage buff, but it may just act as a hidden modifier to phys/mag attack.',s.a.createElement("br",null),"*****",s.a.createElement("b",null,"Named Hard Mode Epic Dungeon Weapons include:")," Pyrros Fard's Orb, Varrekant's Longsword. i.e. Any weapon that includes the 22% phys/mag atk buff."),s.a.createElement(Pe,null),s.a.createElement("div",{className:"fineprint"},"Last updated December 12th, 2018"))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var We=a(9),_e=a(7),Le=/.*\.$/,Ie=function(e){var t=e.value;return"checkbox"===e.type?e.checked:isNaN(t)||Le.test(t)||0===t.length?t:parseFloat(t)},Ge=Object(l.b)({comparison:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{comparison:{item:{},stats:{},buffs:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(_e.a)({},e,{item:Object(_e.a)({},e.item,Object(We.a)({},t.changeEvent.target.name,Ie(t.changeEvent.target)))});case se:return Object(_e.a)({},e,{stats:Object(_e.a)({},e.stats,Object(We.a)({},t.changeEvent.target.name,Ie(t.changeEvent.target)))});case ie:return Object(_e.a)({},e,{buffs:Object(_e.a)({},e.buffs,Object(We.a)({},t.changeEvent.target.name,Ie(t.changeEvent.target)))});default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{player:{item:{},stats:{},buffs:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(_e.a)({},e,{item:Object(_e.a)({},e.item,Object(We.a)({},t.changeEvent.target.name,Ie(t.changeEvent.target)))});case te:return Object(_e.a)({},e,{stats:Object(_e.a)({},e.stats,Object(We.a)({},t.changeEvent.target.name,Ie(t.changeEvent.target)))});case ne:return Object(_e.a)({},e,{buffs:Object(_e.a)({},e.buffs,Object(We.a)({},t.changeEvent.target.name,Ie(t.changeEvent.target)))});default:return e}}}),xe=Object(l.c)(function(e,t){return t.type===ce?g:t.type===le?Object(_e.a)({},e,{comparison:e.player}):Ge(e,t)},function(){try{return JSON.parse(localStorage.getItem("_ms2_dps_calc_state"))}catch(e){}}()||g);xe.subscribe(function(){var e;e=xe.getState(),localStorage.setItem("_ms2_dps_calc_state",JSON.stringify(e))}),i.a.render(s.a.createElement(c.a,{store:xe},s.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.38cf5142.chunk.js.map