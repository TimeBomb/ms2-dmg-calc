(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},28:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(15),i=a.n(r),l=a(10),c=a(4),o=(a(28),a(1)),u=a(2),m=a(5),p=a(3),f=a(6),h=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("select",{name:this.props.name,value:this.props.selected,onChange:this.props.onChange},Object.keys(this.props.values).map(function(t){var a=e.props.values[t];return s.a.createElement("option",{key:a,value:t},a)})))}}]),t}(s.a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("input",{type:"text",name:this.props.name,value:this.props.value,onChange:this.props.onChange}))}}]),t}(s.a.Component),v={player:{stats:{class:"knight",dungeon:"cdev",wepAtk:2e3,bAtk:0,pbAtk:0,wepRarity:"epic",pierce:5,pmPierce:5,pmAtk:300,tDmg:0,bDmg:0,eDmg:0,mrDmg:0,critRate:50,luck:20,critDmg:125},item:{batkGems:0,batkGemLvl:10,mainStatGems:0,mainStatGemLvl:10,varrWingsBuff:!1,varrHornsBuff:!1},buffs:{sinCritBuff:!1,buffWepAtk:0,buffEDmg:0,buffDmg:0,buffPmAtk:0,debuffDmgTaken:0,debuffDefense:0}},comparison:{stats:{class:"knight",dungeon:"cdev",wepAtk:2e3,bAtk:0,pbAtk:0,wepRarity:"epic",pierce:5,pmPierce:5,pmAtk:300,tDmg:0,bDmg:0,eDmg:0,mrDmg:0,critRate:50,luck:20,critDmg:125},item:{batkGems:0,batkGemLvl:10,mainStatGems:0,mainStatGemLvl:10,varrWingsBuff:!1,varrHornsBuff:!1},buffs:{sinCritBuff:!1,buffWepAtk:0,buffEDmg:0,buffDmg:0,buffPmAtk:0,debuffDmgTaken:0,debuffDefense:0}}},g="class",E="dungeon",d="wepAtk",k="bAtk",S="pbAtk",y="wepRarity",O="pierce",C="pmPierce",j="pmAtk",A="tDmg",D="bDmg",B="eDmg",T="mrDmg",w="critRate",R="critDmg",P="luck",N="batkGems",_="batkGemLvl",M="mainStatGems",G="mainStatGemLvl",I="sinCritBuff",L="buffWepAtk",W="buffEDmg",x="buffDmg",F="buffPmAtk",Y="debuffDmgTaken",z="debuffDefense",H="varrWingsBuff",J="varrHornsBuff",U={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},V={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10},$={knight:"Knight",wiz:"Wizard",archer:"Archer",thief:"Thief",rune:"Runeblade",zerk:"Berserker",priest:"Priest",hg:"Heavy Gunner",sin:"Assassin",sb:"Soul Binder",striker:"Striker"},K={cdev:"Shadow Altar",cmoc:"Moonlight Fortress",cpap:"Ludibrium Clock Tower",fd:"The Fire Dragon",tdummy:"Training Dummy"},q={epic:"Epic",legendary:"Legendary"},Q=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"player-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(h,{label:"Class",name:g,selected:this.props.values[g],values:$,onChange:this.props.setStats}),s.a.createElement(h,{label:"Dungeon",name:E,selected:this.props.values[E],values:K,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Weapon Attack",name:d,value:this.props.values[d],onChange:this.props.setStats}),s.a.createElement(b,{label:"Bonus Attack*",name:k,value:this.props.values[k],onChange:this.props.setStats}),s.a.createElement(b,{label:"Pet Bonus Attack",name:S,value:this.props.values[S],onChange:this.props.setStats}),s.a.createElement(h,{label:"Weapon Rarity",name:y,selected:this.props.values[y],values:q,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Pierce %",name:O,value:this.props.values[O],onChange:this.props.setStats}),s.a.createElement(b,{label:"Phys/Mag Pierce %",name:C,value:this.props.values[C],onChange:this.props.setStats}),s.a.createElement(b,{label:"Phys/Mag Attack",name:j,value:this.props.values[j],onChange:this.props.setStats}),s.a.createElement(b,{label:"Total Damage %",name:A,value:this.props.values[A],onChange:this.props.setStats}),s.a.createElement(b,{label:"Boss Damage %",name:D,value:this.props.values[D],onChange:this.props.setStats}),s.a.createElement(b,{label:"Elemental Damage %",name:B,value:this.props.values[B],onChange:this.props.setStats}),s.a.createElement(b,{label:"Melee/Ranged Damage %",name:T,value:this.props.values[T],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Critical Rate**",name:w,value:this.props.values[w],onChange:this.props.setStats}),s.a.createElement(b,{label:"Critical Damage",name:R,value:this.props.values[R],onChange:this.props.setStats}),s.a.createElement(b,{label:"Luck",name:P,value:this.props.values[P],onChange:this.props.setStats})))}}]),t}(s.a.Component),X="SET_PLAYER_STATS",Z="SET_PLAYER_ITEM_STATS",ee="SET_PLAYER_BUFFS",te="SET_COMPARISON_STATS",ae="SET_COMPARISON_ITEM_STATS",ne="SET_COMPARISON_BUFFS",se="REPLACE_COMPARISON_STATS_WITH_PLAYER_STATS",re="RESET_STATE",ie=function(e){return e.comparison.item},le=function(e){return e.comparison.stats},ce=function(e){return e.comparison.buffs},oe=function(e){return e.player.item},ue=function(e){return e.player.stats},me=function(e){return e.player.buffs},pe=Object(c.b)(function(e){return{values:le(e)}},function(e){return{setStats:function(t){return e({type:te,changeEvent:t})}}})(Q),fe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("input",{type:"checkbox",name:this.props.name,checked:this.props.value,onChange:this.props.onChange}))}}]),t}(s.a.Component),he=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"item-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(fe,{label:"Varrakent's Wings (Average +Piercing)",name:H,value:this.props.values[H],onChange:this.props.setStats}),s.a.createElement(fe,{label:"Varrakent's Horns (Average +Phys/Mag Atk)",name:J,value:this.props.values[J],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(h,{label:"# of Additional Bonus Atk Gems",name:N,selected:this.props.values[N],values:U,onChange:this.props.setStats}),s.a.createElement(h,{label:"Bonus Atk Gem Level",name:_,selected:this.props.values[_],values:V,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(h,{label:"# of Additional Main Stat Gems",name:M,selected:this.props.values[M],values:U,onChange:this.props.setStats}),s.a.createElement(h,{label:"Main Stat Gem Level",name:G,selected:this.props.values[G],values:V,onChange:this.props.setStats})))}}]),t}(s.a.Component),be=Object(c.b)(function(e){return{values:ie(e)}},function(e){return{setStats:function(t){return e({type:ae,changeEvent:t})}}})(he),ve=Object(c.b)(function(e){return{values:oe(e)}},function(e){return{setStats:function(t){return e({type:Z,changeEvent:t})}}})(he),ge=Object(c.b)(function(e){return{values:ue(e)}},function(e){return{setStats:function(t){return e({type:X,changeEvent:t})}}})(Q),Ee=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"buff-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(fe,{label:"Assassin Crit Rate Buff",name:I,value:this.props.values[I],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Weapon Attack Buff %",name:L,value:this.props.values[L],onChange:this.props.setStats}),s.a.createElement(b,{label:"Elemental Damage Buff %",name:W,value:this.props.values[W],onChange:this.props.setStats}),s.a.createElement(b,{label:"Damage Buff %",name:x,value:this.props.values[x],onChange:this.props.setStats}),s.a.createElement(b,{label:"Physical/Magical Attack Buff %",name:F,value:this.props.values[F],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Increase Damage Taken Debuff %***",name:Y,value:this.props.values[Y],onChange:this.props.setStats}),s.a.createElement(b,{label:"Decrease Defense Debuff %",name:z,value:this.props.values[z],onChange:this.props.setStats})))}}]),t}(s.a.Component),de=Object(c.b)(function(e){return{values:me(e)}},function(e){return{setStats:function(t){return e({type:ee,changeEvent:t})}}})(Ee),ke=Object(c.b)(function(e){return{values:ce(e)}},function(e){return{setStats:function(t){return e({type:ne,changeEvent:t})}}})(Ee),Se={boss:{fd:{name:"Pyrros Fard",def:681,pmResis:120,critEvasion:50,evasion:97,luck:0},cdev:{name:"Devorak",def:681,pmResis:249,critEvasion:50,evasion:98,luck:0},cmoc:{name:"Captain Moc",def:681,pmResis:249,critEvasion:50,evasion:98,luck:0},cpap:{name:"Papulatus",def:936,pmResis:249,critEvasion:50,evasion:101,luck:0},tdummy:{name:"Training Dummy",def:567,pmResis:90,critEvasion:50,evasion:87,luck:0}},petBonusAtkMultiplier:.4,bonusAtkCoefficient:{epic:{knight:2,wiz:2.5,archer:2.5,thief:2.25,rune:2.5,zerk:2.5,priest:2,hg:2.5,sin:2.25,sb:2.5,striker:2.5},legendary:{knight:4,wiz:5,archer:5,thief:4.5,rune:5,zerk:5,priest:4,hg:5,sin:4.5,sb:5,striker:5}},gems:{bonusAtk:{1:30,2:55,3:75,4:95,5:115,6:130,7:145,8:160,9:170,10:180},stat:{1:2,2:4,3:7,4:10,5:13,6:16,7:20,8:25,9:30,10:36}},mainStatToPMAtk:{knight:.62249,wiz:.5665,archer:.62249,thief:.62249,rune:.62249,zerk:.62249,priest:.4704,hg:.62249,sin:.62249,sb:.5665,striker:.62249},critRateCoefficient:{knight:3.78,zerk:4.305,wiz:3.40375,priest:7.34125,archer:6.4575,hg:2.03875,thief:.60375,sin:.55125,rune:3.78,striker:2.03875,sb:3.40375},critRateCap:.4,classesWithLuck:["sin","thief"],item:{varrHornsBuffAvgPmAtk:92/24,varrWingsBuffAvgPierce:80/24},buffs:{sinCritBuffUptime:17/60}},ye=function(e){var t=e.stats,a=e.buffs,n=e.item,s=Se.bonusAtkCoefficient[t.wepRarity][t.class],r=t.tDmg+t.bDmg+t.eDmg+t.mrDmg+a.buffEDmg,i=t.bAtk+t.pbAtk*Se.petBonusAtkMultiplier+n.batkGems*Se.gems.bonusAtk[n.batkGemLvl],l=(t.wepAtk+i*s)*(1+a.buffWepAtk/100),c=t.pierce+(n.varrWingsBuff?Se.item.varrWingsBuffAvgPierce:0),o=(t.pmAtk+n.mainStatGems*Se.gems.stat[n.mainStatGemLvl]*Se.mainStatToPMAtk[t.class])*(1+(a.buffPmAtk+n.varrHornsBuff?Se.item.varrHornsBuffAvgPmAtk:0)/100),u=1+r/100,m=1/(Se.boss[t.dungeon].def*(1-a.debuffDefense/100));return l*o*u*(1/Math.max(1-c/100,.7))*Math.min(1,(1500*(1+t.pmPierce/100)-Se.boss[t.dungeon].pmResis)/1500)*(1+(a.buffDmg+a.debuffDmgTaken)/100)*m},Oe=function(e){var t=Ce(e),a=ye(e);return(a*(1-t)+a*t*(e.stats.critDmg/100))/2},Ce=function(e){var t=e.stats,a=e.buffs,n=e.item,s=((t.luck+(Se.classesWithLuck.includes(t.class)?n.mainStatGems*Se.gems.stat[n.mainStatGemLvl]:0))*Se.critRateCoefficient[t.class]+5.3*t.critRate)/(2*Se.boss[t.dungeon].critEvasion)*.015,r=a.sinCritBuff?Se.buffs.sinCritBuffUptime:0;return Math.min(s+r,Se.critRateCap)},je=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=ye({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem}),t=ye({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem}),a=e>t,n=(100*Math.abs(1-e/t)).toFixed(2),r=(100*Math.abs(1-t/e)).toFixed(2),i=Oe({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem}),l=Oe({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem}),c=i>l,o=(100*Math.abs(1-i/l)).toFixed(2),u=(100*Math.abs(1-l/i)).toFixed(2),m=(100*Ce({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem})).toFixed(2),p=(100*Ce({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem})).toFixed(2),f=m!==p;return s.a.createElement("div",{className:"results"},s.a.createElement("div",null,"Your Damage: ",n,"% ",a?"higher":"lower"," than Comparison"),o!==n?s.a.createElement("div",null,"Your Average Dmg Dealt w/ Crit: ",o,"% ",c?"higher":"lower"," than Comparison"):"",s.a.createElement("div",null,"Comparison Damage: ",r,"% ",a?"lower":"higher"," than Yours"),u!==r?s.a.createElement("div",null,"Comparison Average Dmg Dealt w/ Crit: ",u,"% ",c?"lower":"higher"," than Yours"):"",s.a.createElement("div",null,f?"Your ":"","Crit Rate: ",m,"%"),f?s.a.createElement("div",null,"Comparison Crit Rate: ",p,"%"):"")}}]),t}(s.a.Component),Ae=Object(c.b)(function(e){return{playerStats:ue(e),playerBuffs:me(e),playerItem:oe(e),comparisonStats:le(e),comparisonBuffs:ce(e),comparisonItem:ie(e)}})(je),De=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("button",{className:"reset-calc btn",onClick:this.props.resetState},"Reset Calculator")}}]),t}(s.a.Component),Be=Object(c.b)(null,function(e){return{resetState:function(){return e({type:re})}}})(De),Te=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"comparison-btn"},s.a.createElement("button",{onClick:this.props.setPlayerStatsToComparisonStats},"Copy Your Stats to Comparison Stats"))}}]),t}(s.a.Component),we=Object(c.b)(null,function(e){return{setPlayerStatsToComparisonStats:function(){return e({type:se})}}})(Te),Re=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"calc"},s.a.createElement("div",{className:"player col"},s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Stats"),s.a.createElement(ge,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Buffs"),s.a.createElement(de,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Item Stats"),s.a.createElement(ve,null))),s.a.createElement("div",{className:"comparison col"},s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Stats"),s.a.createElement(pe,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Buffs"),s.a.createElement(ke,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Item Stats"),s.a.createElement(be,null)))),s.a.createElement("div",{className:"floating-footer"},s.a.createElement(we,null),s.a.createElement(Ae,null)),s.a.createElement("div",{className:"fineprint"},"*",s.a.createElement("b",null,"Bonus Attack")," is experimental. The weapon multipliers may or may not be slightly inaccurate.",s.a.createElement("br",null),"**",s.a.createElement("b",null,"Critical Rate")," is experimental. The datamined algorithm may or may not be slightly inaccurate.",s.a.createElement("br",null),"***",s.a.createElement("b",null,"Increase Damage Taken Debuff %")," is experimental. It may or may not be slightly inaccurate. We aren't certain exactly how it interacts with Damage Buff %."),s.a.createElement(Be,null),s.a.createElement("div",{className:"fineprint"},"Last updated December 12th, 2018"))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=a(9),Ne=a(7),_e=/.*\.$/,Me=function(e){var t=e.value;return"checkbox"===e.type?e.checked:isNaN(t)||_e.test(t)||0===t.length?t:parseFloat(t)},Ge=Object(l.b)({comparison:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{comparison:{item:{},stats:{},buffs:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(Ne.a)({},e,{item:Object(Ne.a)({},e.item,Object(Pe.a)({},t.changeEvent.target.name,Me(t.changeEvent.target)))});case te:return Object(Ne.a)({},e,{stats:Object(Ne.a)({},e.stats,Object(Pe.a)({},t.changeEvent.target.name,Me(t.changeEvent.target)))});case ne:return Object(Ne.a)({},e,{buffs:Object(Ne.a)({},e.buffs,Object(Pe.a)({},t.changeEvent.target.name,Me(t.changeEvent.target)))});default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{player:{item:{},stats:{},buffs:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(Ne.a)({},e,{item:Object(Ne.a)({},e.item,Object(Pe.a)({},t.changeEvent.target.name,Me(t.changeEvent.target)))});case X:return Object(Ne.a)({},e,{stats:Object(Ne.a)({},e.stats,Object(Pe.a)({},t.changeEvent.target.name,Me(t.changeEvent.target)))});case ee:return Object(Ne.a)({},e,{buffs:Object(Ne.a)({},e.buffs,Object(Pe.a)({},t.changeEvent.target.name,Me(t.changeEvent.target)))});default:return e}}}),Ie=Object(l.c)(function(e,t){return t.type===re?v:t.type===se?Object(Ne.a)({},e,{comparison:e.player}):Ge(e,t)},function(){try{return JSON.parse(localStorage.getItem("_ms2_dps_calc_state"))}catch(e){}}()||v);Ie.subscribe(function(){var e;e=Ie.getState(),localStorage.setItem("_ms2_dps_calc_state",JSON.stringify(e))}),i.a.render(s.a.createElement(c.a,{store:Ie},s.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.91564b8e.chunk.js.map