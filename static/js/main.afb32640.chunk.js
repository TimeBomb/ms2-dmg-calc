(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},28:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(15),i=a.n(r),l=a(10),c=a(4),o=(a(28),a(1)),u=a(2),m=a(5),p=a(3),f=a(6),h=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("select",{name:this.props.name,value:this.props.selected,onChange:this.props.onChange},Object.keys(this.props.values).map(function(t){var a=e.props.values[t];return s.a.createElement("option",{key:a,value:t},a)})))}}]),t}(s.a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("input",{type:"text",name:this.props.name,value:this.props.value,onChange:this.props.onChange}))}}]),t}(s.a.Component),v={player:{stats:{class:"knight",dungeon:"cdev",wepAtk:2e3,bAtk:0,pbAtk:0,wepRarity:"epic",pierce:5,pmPierce:5,pmAtk:300,tDmg:0,bDmg:0,eDmg:0,mrDmg:0,critRate:50,luck:20,critDmg:125},item:{batkGems:0,batkGemLvl:10,mainStatGems:0,mainStatGemLvl:10},buffs:{sinCritBuff:!1,critRateBuff:0,buffWepAtk:0,buffEDmg:0,buffDmg:0,buffPmAtk:0,debuffDmgTaken:0}},comparison:{stats:{class:"knight",dungeon:"cdev",wepAtk:2e3,bAtk:0,pbAtk:0,wepRarity:"epic",pierce:5,pmPierce:5,pmAtk:300,tDmg:0,bDmg:0,eDmg:0,mrDmg:0,critRate:50,luck:20,critDmg:125},item:{batkGems:0,batkGemLvl:10,mainStatGems:0,mainStatGemLvl:10},buffs:{sinCritBuff:!1,critRateBuff:0,buffWepAtk:0,buffEDmg:0,buffDmg:0,buffPmAtk:0,debuffDmgTaken:0}}},g="class",E="dungeon",d="wepAtk",k="bAtk",S="pbAtk",y="wepRarity",O="pierce",C="pmPierce",j="pmAtk",A="tDmg",D="bDmg",R="eDmg",B="mrDmg",T="critRate",w="critDmg",P="luck",N="batkGems",_="batkGemLvl",M="mainStatGems",G="mainStatGemLvl",I="sinCritBuff",L="critRateBuff",x="buffWepAtk",F="buffEDmg",Y="buffDmg",W="buffPmAtk",z="debuffDmgTaken",J={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},U={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10},H={knight:"Knight",wiz:"Wizard",archer:"Archer",thief:"Thief",rune:"Runeblade",zerk:"Berserker",priest:"Priest",hg:"Heavy Gunner",sin:"Assassin",sb:"Soul Binder",striker:"Striker"},$={cdev:"Shadow Altar",cmoc:"Moonlight Fortress",cpap:"Ludibrium Clock Tower",fd:"The Fire Dragon",tdummy:"Training Dummy"},K={epic:"Epic",legendary:"Legendary"},q=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"player-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(h,{label:"Class",name:g,selected:this.props.values[g],values:H,onChange:this.props.setStats}),s.a.createElement(h,{label:"Dungeon",name:E,selected:this.props.values[E],values:$,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Weapon Attack",name:d,value:this.props.values[d],onChange:this.props.setStats}),s.a.createElement(b,{label:"Bonus Attack*",name:k,value:this.props.values[k],onChange:this.props.setStats}),s.a.createElement(b,{label:"Pet Bonus Attack",name:S,value:this.props.values[S],onChange:this.props.setStats}),s.a.createElement(h,{label:"Weapon Rarity",name:y,selected:this.props.values[y],values:K,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Pierce %",name:O,value:this.props.values[O],onChange:this.props.setStats}),s.a.createElement(b,{label:"Phys/Mag Pierce %",name:C,value:this.props.values[C],onChange:this.props.setStats}),s.a.createElement(b,{label:"Phys/Mag Attack",name:j,value:this.props.values[j],onChange:this.props.setStats}),s.a.createElement(b,{label:"Total Damage %",name:A,value:this.props.values[A],onChange:this.props.setStats}),s.a.createElement(b,{label:"Boss Damage %",name:D,value:this.props.values[D],onChange:this.props.setStats}),s.a.createElement(b,{label:"Elemental Damage %",name:R,value:this.props.values[R],onChange:this.props.setStats}),s.a.createElement(b,{label:"Melee/Ranged Damage %",name:B,value:this.props.values[B],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Critical Rate**",name:T,value:this.props.values[T],onChange:this.props.setStats}),s.a.createElement(b,{label:"Critical Damage",name:w,value:this.props.values[w],onChange:this.props.setStats}),s.a.createElement(b,{label:"Luck",name:P,value:this.props.values[P],onChange:this.props.setStats})))}}]),t}(s.a.Component),Q="SET_PLAYER_STATS",V="SET_PLAYER_ITEM_STATS",X="SET_PLAYER_BUFFS",Z="SET_COMPARISON_STATS",ee="SET_COMPARISON_ITEM_STATS",te="SET_COMPARISON_BUFFS",ae="REPLACE_COMPARISON_STATS_WITH_PLAYER_STATS",ne="RESET_STATE",se=function(e){return e.comparison.item},re=function(e){return e.comparison.stats},ie=function(e){return e.comparison.buffs},le=function(e){return e.player.item},ce=function(e){return e.player.stats},oe=function(e){return e.player.buffs},ue=Object(c.b)(function(e){return{values:re(e)}},function(e){return{setStats:function(t){return e({type:Z,changeEvent:t})}}})(q),me=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"item-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(h,{label:"# of Additional Bonus Atk Gems",name:N,selected:this.props.values[N],values:J,onChange:this.props.setStats}),s.a.createElement(h,{label:"Bonus Atk Gem Level",name:_,selected:this.props.values[_],values:U,onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(h,{label:"# of Additional Main Stat Gems",name:M,selected:this.props.values[M],values:J,onChange:this.props.setStats}),s.a.createElement(h,{label:"Main Stat Gem Level",name:G,selected:this.props.values[G],values:U,onChange:this.props.setStats})))}}]),t}(s.a.Component),pe=Object(c.b)(function(e){return{values:se(e)}},function(e){return{setStats:function(t){return e({type:ee,changeEvent:t})}}})(me),fe=Object(c.b)(function(e){return{values:le(e)}},function(e){return{setStats:function(t){return e({type:V,changeEvent:t})}}})(me),he=Object(c.b)(function(e){return{values:ce(e)}},function(e){return{setStats:function(t){return e({type:Q,changeEvent:t})}}})(q),be=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"input"},s.a.createElement("label",null,this.props.label),s.a.createElement("input",{type:"checkbox",name:this.props.name,checked:this.props.value,onChange:this.props.onChange}))}}]),t}(s.a.Component),ve=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"buff-stats stat-form"},s.a.createElement("fieldset",null,s.a.createElement(be,{label:"Assassin Crit Rate Buff",name:I,value:this.props.values[I],onChange:this.props.setStats}),s.a.createElement(b,{label:"Crit Rate Buff %",name:L,value:this.props.values[L],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Weapon Attack Buff %",name:x,value:this.props.values[x],onChange:this.props.setStats}),s.a.createElement(b,{label:"Elemental Damage Buff %",name:F,value:this.props.values[F],onChange:this.props.setStats}),s.a.createElement(b,{label:"Damage Buff %",name:Y,value:this.props.values[Y],onChange:this.props.setStats}),s.a.createElement(b,{label:"Physical/Magical Attack Buff %",name:W,value:this.props.values[W],onChange:this.props.setStats})),s.a.createElement("fieldset",null,s.a.createElement(b,{label:"Increase Damage Taken Debuff %***",name:z,value:this.props.values[z],onChange:this.props.setStats})))}}]),t}(s.a.Component),ge=Object(c.b)(function(e){return{values:oe(e)}},function(e){return{setStats:function(t){return e({type:X,changeEvent:t})}}})(ve),Ee=Object(c.b)(function(e){return{values:ie(e)}},function(e){return{setStats:function(t){return e({type:te,changeEvent:t})}}})(ve),de={boss:{fd:{name:"Pyrros Fard",def:681,pmResis:120,critEvasion:50,evasion:97,luck:0},cdev:{name:"Devorak",def:681,pmResis:249,critEvasion:50,evasion:98,luck:0},cmoc:{name:"Captain Moc",def:681,pmResis:249,critEvasion:50,evasion:98,luck:0},cpap:{name:"Papulatus",def:936,pmResis:249,critEvasion:50,evasion:101,luck:0},tdummy:{name:"Training Dummy",def:567,pmResis:90,critEvasion:50,evasion:87,luck:0}},petBonusAtkMultiplier:.4,bonusAtkCoefficient:{epic:{knight:2,wiz:2.5,archer:2.5,thief:2.25,rune:2.5,zerk:2.5,priest:2,hg:2.5,sin:2.25,sb:2.5,striker:2.5},legendary:{knight:4,wiz:5,archer:5,thief:4.5,rune:5,zerk:5,priest:4,hg:5,sin:4.5,sb:5,striker:5}},gems:{bonusAtk:{1:30,2:55,3:75,4:95,5:115,6:130,7:145,8:160,9:170,10:180},stat:{1:2,2:4,3:7,4:10,5:13,6:16,7:20,8:25,9:30,10:36}},mainStatToPMAtk:{knight:.62249,wiz:.5665,archer:.62249,thief:.62249,rune:.62249,zerk:.62249,priest:.48,hg:.62249,sin:.62249,sb:.5665,striker:.62249},critRateCoefficient:{knight:3.78,zerk:4.305,wiz:3.40375,priest:7.34125,archer:6.4575,hg:2.03875,thief:.60375,sin:.55125,rune:3.78,striker:2.03875,sb:3.40375},critRateCap:.4,buffs:{sinCritBuffUptime:17/60}},ke=function(e){var t=e.stats,a=e.buffs,n=e.item,s=de.bonusAtkCoefficient[t.wepRarity][t.class],r=t.tDmg+t.bDmg+t.eDmg+t.mrDmg+a.buffEDmg,i=t.bAtk+t.pbAtk*de.petBonusAtkMultiplier+n.batkGems*de.gems.bonusAtk[n.batkGemLvl];return(t.wepAtk+i*s)*(1+a.buffWepAtk/100)*((t.pmAtk+n.mainStatGems*de.gems.stat[n.mainStatGemLvl])*(1+a.buffPmAtk/100))*(1+r/100)/de.boss[t.dungeon].def*(1/Math.max(1-t.pierce/100,.7))*Math.min(1,(1500*(1+t.pmPierce/100)-de.boss[t.dungeon].pmResis)/1500)*(1+(a.buffDmg+a.debuffDmgTaken)/100)},Se=function(e){var t=ye(e),a=ke(e);return(a*(1-t)+a*t*(e.stats.critDmg/100))/2},ye=function(e){var t=e.stats,a=e.buffs,n=(t.luck*de.critRateCoefficient[t.class]+5.3*t.critRate)/(2*de.boss[t.dungeon].critEvasion)*.015,s=(a.sinCritBuff?de.buffs.sinCritBuffUptime:0)+a.critRateBuff/100;return Math.min(n+s,de.critRateCap)},Oe=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=ke({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem}),t=ke({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem}),a=e>t,n=(100*Math.abs(e/t)).toFixed(2),r=(100*Math.abs(t/e)).toFixed(2),i=Se({stats:this.props.playerStats,buffs:this.props.playerBuffs,item:this.props.playerItem}),l=Se({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs,item:this.props.comparisonItem}),c=i>l,o=(100*Math.abs(i/l)).toFixed(2),u=(100*Math.abs(l/i)).toFixed(2),m=(100*ye({stats:this.props.playerStats,buffs:this.props.playerBuffs})).toFixed(2),p=(100*ye({stats:this.props.comparisonStats,buffs:this.props.comparisonBuffs})).toFixed(2);return s.a.createElement("div",{className:"results"},"Results:",s.a.createElement("div",null,"Your Damage: ",n,"% ",a?"higher":"lower"," than Comparison"),s.a.createElement("div",null,"Your Average Dmg Dealt w/ Crit: ",o,"% ",c?"higher":"lower"," than Comparison"),s.a.createElement("div",null,"Your Crit Rate: ",m,"%"),s.a.createElement("div",null,"Comparison Damage: ",r,"% ",a?"lower":"higher"," than Yours"),s.a.createElement("div",null,"Your Average Dmg Dealt w/ Crit: ",u,"% ",c?"lower":"higher"," than Comparison"),s.a.createElement("div",null,"Comparison Crit Rate: ",p,"%"))}}]),t}(s.a.Component),Ce=Object(c.b)(function(e){return{playerStats:ce(e),playerBuffs:oe(e),playerItem:le(e),comparisonStats:re(e),comparisonBuffs:ie(e),comparisonItem:se(e)}})(Oe),je=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("button",{className:"reset-calc btn",onClick:this.props.resetState},"Reset Calculator")}}]),t}(s.a.Component),Ae=Object(c.b)(null,function(e){return{resetState:function(){return e({type:ne})}}})(je),De=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"comparison-type"},s.a.createElement("button",{onClick:this.props.setPlayerStatsToComparisonStats},"Copy Your Stats to Comparison Stats"))}}]),t}(s.a.Component),Re=Object(c.b)(null,function(e){return{setPlayerStatsToComparisonStats:function(){return e({type:ae})}}})(De),Be=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"calc"},s.a.createElement("div",{className:"player col"},s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Stats"),s.a.createElement(he,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Buffs"),s.a.createElement(ge,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Your Item Stats"),s.a.createElement(fe,null))),s.a.createElement("div",{className:"comparison col"},s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Stats"),s.a.createElement(ue,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Buffs"),s.a.createElement(Ee,null)),s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",null,"Comparison Item Stats"),s.a.createElement(pe,null)))),s.a.createElement(Re,null),s.a.createElement(Ce,null),s.a.createElement("div",{className:"fineprint"},"*",s.a.createElement("b",null,"Bonus Attack")," is experimental. The weapon multipliers may or may not be slightly inaccurate.",s.a.createElement("br",null),"**",s.a.createElement("b",null,"Critical Rate")," is experimental. The datamined algorithm may or may not be slightly inaccurate.",s.a.createElement("br",null),"***",s.a.createElement("b",null,"Increase Damage Taken Debuff %")," is experimental. It may or may not be slightly inaccurate. We aren't certain exactly how it interacts with Damage Buff %."),s.a.createElement(Ae,null))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=a(9),we=a(7),Pe=/.*\.$/,Ne=function(e){var t=e.value;return"checkbox"===e.type?e.checked:isNaN(t)||Pe.test(t)?t:parseFloat(t)},_e=Object(l.b)({comparison:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{comparison:{item:{},stats:{},buffs:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(we.a)({},e,{item:Object(we.a)({},e.item,Object(Te.a)({},t.changeEvent.target.name,Ne(t.changeEvent.target)))});case Z:return Object(we.a)({},e,{stats:Object(we.a)({},e.stats,Object(Te.a)({},t.changeEvent.target.name,Ne(t.changeEvent.target)))});case te:return Object(we.a)({},e,{buffs:Object(we.a)({},e.buffs,Object(Te.a)({},t.changeEvent.target.name,Ne(t.changeEvent.target)))});default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{player:{item:{},stats:{},buffs:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(we.a)({},e,{item:Object(we.a)({},e.item,Object(Te.a)({},t.changeEvent.target.name,Ne(t.changeEvent.target)))});case Q:return Object(we.a)({},e,{stats:Object(we.a)({},e.stats,Object(Te.a)({},t.changeEvent.target.name,Ne(t.changeEvent.target)))});case X:return Object(we.a)({},e,{buffs:Object(we.a)({},e.buffs,Object(Te.a)({},t.changeEvent.target.name,Ne(t.changeEvent.target)))});default:return e}}}),Me=Object(l.c)(function(e,t){return t.type===ne?v:t.type===ae?Object(we.a)({},e,{comparison:e.player}):_e(e,t)},function(){try{return JSON.parse(localStorage.getItem("_ms2_dps_calc_state"))}catch(e){}}()||v);Me.subscribe(function(){var e;e=Me.getState(),localStorage.setItem("_ms2_dps_calc_state",JSON.stringify(e))}),i.a.render(s.a.createElement(c.a,{store:Me},s.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.afb32640.chunk.js.map